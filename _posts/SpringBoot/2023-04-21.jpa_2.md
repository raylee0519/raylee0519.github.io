---
layout: single
title: "영속성 컨텍스트 save 메소드"

categories:
  - Springboot
---

영속성 컨텍스트에 대해 알아보고 이를 우리 코드에 적용하려고 했는데 기본적으로 JPA는 영속성 컨텍스트를 제공한다고 한다.

우리가 일반적으로 사용하는 save 메소드의 코드를 뜯어보았다.

```java
// SimpleJpaRepository.java [JPA 구현체]

@Transactional
@Override
public <S extends T> S save(S entity) {

	Assert.notNull(entity, "Entity must not be null.");

	if (entityInformation.isNew(entity)) { // 1
		em.persist(entity); // 2
		return entity; // 3
	} else { // 4
		return em.merge(entity); // 5
	}
}
```

이처럼 JPA에서는 기본 영속성 컨텍스트를 제공해주기 때문에 기본적인 
CRUD에서는 따로 
명시할 필요는 
명시할 필요는 없어보인다.

